pause_for_switchover:
  name: Pause for switchover
  description: Fades volume down to 0 using Ambient Music settings and pauses playback.
  target:
    entity:
      domain: media_player
  fields:
    blockers_cleared:
      name: Require blockers to be clear
      description: If true, only run when Ambient Music blockers are clear.
      required: false
      default: true
      selector:
        boolean:

play_current_playlist:
  name: Play current playlist
  description: Starts the currently selected playlist at volume 0, then fades up to a target volume.
  target:
    entity:
      domain: media_player
  fields:
    blockers_cleared:
      name: Require blockers to be clear
      description: If true, only run when Ambient Music blockers are clear.
      required: false
      default: true
      selector:
        boolean:
    fade_up_duration:
      name: Fade-up duration (seconds)
      description: Overrides Ambient Music settings if provided.
      required: false
      selector:
        number:
          min: 0
          max: 60
          step: 1
    target_volume:
      name: Target volume (0.0–1.0)
      description: Overrides Ambient Music settings if provided.
      required: false
      selector:
        number:
          min: 0
          max: 1
          step: 0.01
    curve:
      name: Fade curve
      required: false
      default: logarithmic
      selector:
        select:
          options:
            - logarithmic
            - bezier
            - linear

stop_playing:
  name: Stop playing
  description: Fade volume down to 0 using Ambient Music settings and pauses playback.
  target:
    entity:
      domain: media_player
  fields:
    blockers_cleared:
      name: Require blockers to be clear
      description: If true, only run when Ambient Music blockers are clear.
      required: false
      default: true
      selector:
        boolean:

fade_volume:
  name: Fade volume
  description: Fades a media player’s volume to a target over a duration with a chosen curve.
  target:
    entity:
      domain: media_player
  fields:
    target_volume:
      name: Target volume (0.0–1.0)
      required: true
      selector:
        number:
          min: 0
          max: 1
          step: 0.01
    duration:
      name: Duration (seconds)
      required: true
      selector:
        number:
          min: 0
          max: 120
          step: 1
    curve:
      name: Fade curve
      required: false
      default: logarithmic
      selector:
        select:
          options:
            - logarithmic
            - bezier
            - linear
